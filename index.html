<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>eternal love</title>
    <link href="https://fonts.googleapis.com/css2?family=Pinyon+Script&family=Playfair+Display:wght@400;600&family=Noto+Serif+KR:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root { --black: #000000; --white: #ffffff; --easing: cubic-bezier(0.19, 1, 0.22, 1); }
        * { box-sizing: border-box; -webkit-font-smoothing: antialiased; }
        body, html { margin: 0; padding: 0; background: var(--black); color: var(--white); font-family: 'Noto Serif KR', serif; overflow: hidden; width: 100%; height: 100%; position: fixed; }
        #main-wrapper { width: 100%; height: 100%; position: relative; z-index: 10; }
        .viewport { display: flex; width: 300vw; height: 100vh; transition: transform 1.2s var(--easing); }
        section { width: 100vw; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; }
        .hint { font-size: 1.1rem; letter-spacing: 0.05rem; color: #ffffff; margin-bottom: 60px; text-align: center; line-height: 2.2; font-weight: 400; }
        input { background: none; border: none; border-bottom: 2px solid #555; color: var(--white); font-size: 2.2rem; text-align: center; width: 240px; outline: none; transition: all 0.4s; letter-spacing: 0.5rem; border-radius: 0; font-family: sans-serif; }
        input:focus { border-bottom-color: var(--white); }
        #flash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--white); opacity: 0; z-index: 100; pointer-events: none; transition: opacity 0.8s var(--easing); }
        #flash.active { opacity: 1; }
        
        #letter-view { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--white); color: var(--black); display: none; flex-direction: column; align-items: center; z-index: 101; padding: 4vh 20px 6vh; }
        
        .letter-box { width: 100%; height: 100%; border: 1px solid var(--black); padding: 6vh 25px; position: relative; display: flex; flex-direction: column; align-items: center; background: var(--white); opacity: 0; transform: translateY(20px); transition: all 2s var(--easing); }
        
        h1 { font-family: 'Pinyon Script', cursive; font-size: 2.8rem; margin-bottom: 5vh; text-align: center; font-weight: 400; color: var(--black); line-height: 1.2; }
        
        .letter-content { font-size: 1rem; line-height: 2.8; text-align: center; width: 100%; word-break: keep-all; font-weight: 400; color: var(--black); flex: 1; display: flex; flex-direction: column; justify-content: center; }
        .letter-content b { font-family: 'Pinyon Script', cursive; font-weight: 400; color: var(--black); display: block; margin-top: 5vh; font-size: 2.2rem; }

        .footer-area { width: 100%; display: flex; flex-direction: column; align-items: center; margin-top: 4vh; }
        .btn-black { border: 1px solid var(--black); background: none; padding: 14px 45px; font-family: 'Playfair Display', serif; font-size: 0.85rem; letter-spacing: 0.25rem; text-transform: uppercase; font-weight: 600; cursor: pointer; transition: all 0.3s; color: var(--black); outline: none; background-color: white; }
        .btn-black:active { background: var(--black); color: var(--white); }
        
        .heart { position: absolute; color: var(--black); pointer-events: none; z-index: 105; font-size: 14px; animation: float 3.5s linear forwards; opacity: 0.5; }
        @keyframes float { 0% { transform: translateY(0) scale(1) rotate(0deg); opacity: 0.5; } 100% { transform: translateY(-100vh) scale(1.5) rotate(360deg); opacity: 0; } }
    </style>
</head>
<body>
    <div id="flash"></div>
    <div id="main-wrapper">
        <form id="quiz-form" onsubmit="return false;">
            <div class="viewport" id="viewport">
                <section>
                    <div class="hint">우리의 첫 페이지가 시작된 날,<br>그 기록의 시작점은?</div>
                    <input type="text" inputmode="numeric" placeholder="******" maxlength="6" id="in1" autocomplete="off" onkeyup="check(1, '251201', this)">
                </section>
                <section>
                    <div class="hint">너와 내가 함께 걸어온 1,968시간.<br>그걸 숫자로 표현한다면?</div>
                    <input type="text" inputmode="numeric" placeholder="**" maxlength="2" id="in2" autocomplete="off" onkeyup="check(2, '82', this)">
                </section>
                <section>
                    <div class="hint">세상이 온통 너로 인해 빛나기 시작한,<br>가장 아름다운 날짜.</div>
                    <input type="text" inputmode="numeric" placeholder="****" maxlength="4" id="in3" autocomplete="off" onkeyup="check(3, '0220', this)">
                </section>
            </div>
        </form>
    </div>
    <div id="letter-view">
        <div class="letter-box" id="letter-box">
            <h1>To My Dearest Sihyun</h1>
            <div class="letter-content">
                <div>
                    안녕 시현아<br>
                    오늘은 오직 너를 위해 가장 이쁜 언어를 써보려고 해.<br><br>
                    수많은 우연이 겹쳐 지금의 우리가 되었지만,<br> 
                    사실 너를 처음 본 순간부터 예감했던 것 같아.<br>
                    함께하는 매 순간이 내게 잊지 못할 기록이 될 거라는걸.<br><br>
                    오늘의 너를 만나기 위해 그동안의 수많은 시간이 존재했나 봐.<br>
                    태어나줘서, 그리고 나의 제일 소중한 좌표가 되어줘서 정말 고마워.<br>
                    누구보다 행복한 생일이 되길 바래.
                </div>
                <b>- From Your Only -</b>
            </div>
            <div class="footer-area">
                <button class="btn-black" onclick="startInfiniteLove()">Show My Love</button>
            </div>
        </div>
    </div>
    <script>
        function check(s, a, e) {
            if (e.value === a) {
                e.readOnly = true; e.blur();
                if (s < 3) {
                    document.getElementById('viewport').style.transform = `translateX(-${s * 100}vw)`;
                    setTimeout(() => { document.getElementById(`in${s + 1}`).focus(); }, 700);
                } else {
                    document.getElementById('flash').classList.add('active');
                    setTimeout(() => {
                        document.getElementById('main-wrapper').style.display = 'none';
                        document.getElementById('letter-view').style.display = 'flex';
                        setTimeout(() => {
                            const b = document.getElementById('letter-box');
                            b.style.opacity = 1; b.style.transform = 'translateY(0)';
                        }, 200);
                    }, 800);
                }
            }
        }
        let l;
        function startInfiniteLove() {
            if(l) return;
            const btn = document.querySelector('.btn-black');
            btn.style.background = 'black'; btn.style.color = 'white'; btn.innerText = 'I Love You';
            l = setInterval(() => {
                const h = document.createElement('div');
                h.innerHTML = '♥'; h.className = 'heart';
                h.style.left = Math.random() * 100 + 'vw';
                h.style.top = '100vh';
                h.style.fontSize = (Math.random() * 8 + 12) + 'px';
                document.body.appendChild(h);
                setTimeout(() => { h.remove(); }, 3500);
            }, 180);
        }
    </script>
</body>
</html>